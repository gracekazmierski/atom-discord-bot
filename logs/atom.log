INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
ERROR:discord.client:Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\cogs\chat.py", line 25, in on_message
    response = query_ollama(message.content)
  File "C:\Users\grace\OneDrive\atom-bot\ollama_client.py", line 38, in query_ollama
    response = ollama.chat(
        model="llama3",
    ...<10 lines>...
        }
    )
TypeError: Client.chat() got an unexpected keyword argument 'base_url'
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
WARNING:discord.gateway:Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\grace\OneDrive\atom-bot\bot.py", line 47, in <module>
    bot.run(DISCORD_TOKEN)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 707, in run_until_complete
    self.run_forever()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 678, in run_forever
    self._run_once()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2033, in _run_once
    handle._run()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\cogs\chat.py", line 25, in on_message
    response = query_ollama(message.content)
  File "C:\Users\grace\OneDrive\atom-bot\ollama_client.py", line 43, in query_ollama
    response = ollama.chat(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 342, in chat
    return self._request(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 180, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 120, in _request_raw
    r = self._client.request(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)

WARNING:discord.gateway:Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\grace\OneDrive\atom-bot\bot.py", line 47, in <module>
    bot.run(DISCORD_TOKEN)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 707, in run_until_complete
    self.run_forever()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 678, in run_forever
    self._run_once()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2033, in _run_once
    handle._run()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\cogs\chat.py", line 25, in on_message
    response = query_ollama(message.content)
  File "C:\Users\grace\OneDrive\atom-bot\ollama_client.py", line 43, in query_ollama
    response = ollama.chat(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 342, in chat
    return self._request(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 180, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 120, in _request_raw
    r = self._client.request(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)

WARNING:discord.gateway:Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\grace\OneDrive\atom-bot\bot.py", line 47, in <module>
    bot.run(DISCORD_TOKEN)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 707, in run_until_complete
    self.run_forever()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 678, in run_forever
    self._run_once()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2033, in _run_once
    handle._run()
  File "C:\Users\grace\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\cogs\chat.py", line 25, in on_message
    response = query_ollama(message.content)
  File "C:\Users\grace\OneDrive\atom-bot\ollama_client.py", line 43, in query_ollama
    response = ollama.chat(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 342, in chat
    return self._request(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 180, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\ollama\_client.py", line 120, in _request_raw
    r = self._client.request(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)

INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
ERROR:discord.client:Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\grace\OneDrive\atom-bot\cogs\chat.py", line 26, in on_message
    await message.channel.send(response)
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\abc.py", line 1644, in send
    data = await state.http.send_message(channel.id, params=params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\grace\OneDrive\atom-bot\venv\Lib\site-packages\discord\http.py", line 762, in request
    raise HTTPException(response, data)
discord.errors.HTTPException: 400 Bad Request (error code: 50035): Invalid Form Body
In content: Must be 2000 or fewer in length.
INFO:discord.gateway:Shard ID None has successfully RESUMED session e3965297a2c9322ef29cbb24a1d0191a.
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
